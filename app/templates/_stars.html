{% macro stars(t, id, rating, size=18, class="") %}
{% for i in range(1, 6) %}
    {% if rating >= i %}
        <svg xmlns="http://www.w3.org/2000/svg" width="{{ size }}" height="{{ size }}" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="{{ class }} text-yellow-500 feather feather-star">
            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
        </svg>
    {% elif rating|int == i-1 %}
        <svg xmlns="http://www.w3.org/2000/svg" width="{{ size }}" height="{{ size }}" viewBox="0 0 24 24" fill="currentColor" stroke="url(#{{t}}partial{{ id }})" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="{{ class }} text-yellow-500 feather feather-star">
            <defs>
                <linearGradient id="{{t}}partial{{ id }}">
                    <stop offset="{{ ((rating - rating|int) * 100)|int }}%" stop-color="currentColor"></stop>
                    <stop offset="{{ ((rating - rating|int) * 100)|int }}%" stop-color="rgb(156 163 175)"></stop>
                </linearGradient>
            </defs>
            <polygon fill="url(#{{t}}partial{{ id }})" points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
        </svg>
    {% else %}
        <svg xmlns="http://www.w3.org/2000/svg" width="{{ size }}" height="{{ size }}" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="{{ class }} text-gray-400 feather feather-star">
            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
        </svg>
    {% endif %}
{% endfor %}
{% endmacro %}